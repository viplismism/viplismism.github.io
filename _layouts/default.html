---
layout: compress
---
<!DOCTYPE html>
<html lang="en">
  {% include head.html %}  
  <body>
    <!-- Mobile hamburger button - OUTSIDE main for proper fixed positioning -->
    <button class="mobile-menu-toggle" aria-label="Toggle navigation menu" onclick="toggleMobileMenu()">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    
    <!-- Mobile nav menu - also outside main -->
    <ul class="nav-menu">
      {% for item in site.data.navigation.links %}
        {% unless item.title == "Jyosa Labs" %}
        <li{% if item.title == "Graph" %} class="hide-mobile"{% endif %}><a href="{{ item.url }}" {% if item.url == page.url %} class="active"{% endif %} onclick="closeMobileMenu()">{{ item.title }}</a></li>
        {% endunless %}
      {% endfor %}
      <li><a href="/search" {% if page.url == "/search" %} class="active"{% endif %} onclick="closeMobileMenu()">Search</a></li>
      {% for item in site.data.navigation.links %}
        {% if item.title == "Jyosa Labs" %}
        <li><a href="{{ item.url }}" target="_blank" onclick="closeMobileMenu()">{{ item.title }}</a></li>
        {% endif %}
      {% endfor %}
    </ul>

    <main>
      {% include navigation.html %}
      {{ content }}
    </main>



    <!-- Mobile hamburger menu JavaScript -->
    <script>
      function toggleMobileMenu() {
        console.log('Toggle clicked!');
        const hamburger = document.querySelector('.mobile-menu-toggle');
        const menu = document.querySelector('.nav-menu');

        if (hamburger && menu) {
          hamburger.classList.toggle('active');
          menu.classList.toggle('active');
          console.log('Menu toggled, active:', menu.classList.contains('active'));
          console.log('Menu items found:', menu.querySelectorAll('li').length);
        } else {
          console.log('Elements not found:', hamburger, menu);
        }
      }

      function closeMobileMenu() {
        console.log('Closing menu');
        const hamburger = document.querySelector('.mobile-menu-toggle');
        const menu = document.querySelector('.nav-menu');

        if (hamburger && menu) {
          hamburger.classList.remove('active');
          menu.classList.remove('active');
        }
      }

      // iOS Safari fix: Use absolute positioning + scroll listener
      document.addEventListener('DOMContentLoaded', function() {
        const hamburger = document.querySelector('.mobile-menu-toggle');
        const menu = document.querySelector('.nav-menu');
        
        if (hamburger && window.innerWidth <= 720) {
          // Switch to absolute positioning and update on scroll
          hamburger.style.position = 'absolute';
          
          function updateHamburgerPosition() {
            hamburger.style.top = (window.pageYOffset + 20) + 'px';
            if (menu && menu.classList.contains('active')) {
              menu.style.top = window.pageYOffset + 'px';
            }
          }
          
          // Update position on scroll
          window.addEventListener('scroll', updateHamburgerPosition, { passive: true });
          
          // Initial position
          updateHamburgerPosition();
        }
      });
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JBZRCCYMBP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-JBZRCCYMBP');
    </script>
  </body>
</html>
